<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>freeablo: extern/StormLib/src/FileStream.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">freeablo
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_94368d58471c47849c5480892ac671ea.html">extern</a></li><li class="navelem"><a class="el" href="dir_89e56f2d06b933b91dca31e6f4722c7c.html">StormLib</a></li><li class="navelem"><a class="el" href="dir_36a2a79caec59eec5bf132e558ff3189.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FileStream.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_storm_lib_8h_source.html">StormLib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_storm_common_8h_source.html">StormCommon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_file_stream_8h_source.html">FileStream.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6c6f05f604e9e3c9c3536365c5f81665"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a6c6f05f604e9e3c9c3536365c5f81665">__STORMLIB_SELF__</a></td></tr>
<tr class="separator:a6c6f05f604e9e3c9c3536365c5f81665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdc7facea201bfce4ad308105f88d0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a5fdc7facea201bfce4ad308105f88d0c">INVALID_HANDLE_VALUE</a>&#160;&#160;&#160;((<a class="el" href="_storm_port_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)-1)</td></tr>
<tr class="separator:a5fdc7facea201bfce4ad308105f88d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab527650fea18542c0f5ad9097be0c352"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#ab527650fea18542c0f5ad9097be0c352">BLOCK4_BLOCK_SIZE</a>&#160;&#160;&#160;0x4000</td></tr>
<tr class="separator:ab527650fea18542c0f5ad9097be0c352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8b42b0300b7efd3a7bbefbacdaa5d2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#aec8b42b0300b7efd3a7bbefbacdaa5d2">BLOCK4_HASH_SIZE</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="separator:aec8b42b0300b7efd3a7bbefbacdaa5d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5c5bf181369788c2091bbc386990f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a4f5c5bf181369788c2091bbc386990f5">BLOCK4_MAX_BLOCKS</a>&#160;&#160;&#160;0x00002000</td></tr>
<tr class="separator:a4f5c5bf181369788c2091bbc386990f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4003d23efcf71bac3817c9fb695d662"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#af4003d23efcf71bac3817c9fb695d662">BLOCK4_MAX_FSIZE</a>&#160;&#160;&#160;0x08040000</td></tr>
<tr class="separator:af4003d23efcf71bac3817c9fb695d662"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10b9a284527af83a44533867b0aff0fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a10b9a284527af83a44533867b0aff0fc">GetLastError</a> ()</td></tr>
<tr class="separator:a10b9a284527af83a44533867b0aff0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12246cf2f9f9aa8e3a6367bd9fa2aed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#ae12246cf2f9f9aa8e3a6367bd9fa2aed">SetLastError</a> (int nError)</td></tr>
<tr class="separator:ae12246cf2f9f9aa8e3a6367bd9fa2aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002962f324415b3de7002c50292ebae0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a002962f324415b3de7002c50292ebae0">FileStream_CreateFile</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_storm_port_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwStreamFlags)</td></tr>
<tr class="separator:a002962f324415b3de7002c50292ebae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48fa8de054ca2c1a69995494237ee94b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a48fa8de054ca2c1a69995494237ee94b">FileStream_OpenFile</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_storm_port_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwStreamFlags)</td></tr>
<tr class="separator:a48fa8de054ca2c1a69995494237ee94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a900badc0a3d7dff123d1c8a0b45c3c70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_storm_port_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a900badc0a3d7dff123d1c8a0b45c3c70">FileStream_GetFileName</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream)</td></tr>
<tr class="separator:a900badc0a3d7dff123d1c8a0b45c3c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2107608d75af5dc5674f69c84637e22"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#aa2107608d75af5dc5674f69c84637e22">FileStream_Prefix</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_storm_port_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *szFileName, <a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *pdwProvider)</td></tr>
<tr class="separator:aa2107608d75af5dc5674f69c84637e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae33c8e38a5379adbbe49471f8d0ca5af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#ae33c8e38a5379adbbe49471f8d0ca5af">FileStream_SetCallback</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="_storm_lib_8h.html#aa7d6a26f9fa999e583ee66390dfe04fe">SFILE_DOWNLOAD_CALLBACK</a> pfnCallback, void *pvUserData)</td></tr>
<tr class="separator:ae33c8e38a5379adbbe49471f8d0ca5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079730e5345bc1141a1057d4e13e95ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a079730e5345bc1141a1057d4e13e95ac">FileStream_GetBitmap</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, void *pvBitmap, <a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> cbBitmap, <a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *pcbLengthNeeded)</td></tr>
<tr class="separator:a079730e5345bc1141a1057d4e13e95ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a593f3b1416f7497c28fa5552cd1b3003"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a593f3b1416f7497c28fa5552cd1b3003">FileStream_Read</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pByteOffset, void *pvBuffer, <a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesToRead)</td></tr>
<tr class="separator:a593f3b1416f7497c28fa5552cd1b3003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36307955e8de92f5ea26be07ea3b9cb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a36307955e8de92f5ea26be07ea3b9cb4">FileStream_Write</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pByteOffset, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *pvBuffer, <a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> dwBytesToWrite)</td></tr>
<tr class="separator:a36307955e8de92f5ea26be07ea3b9cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af505319882f0f4aaf396b6d061a2275b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#af505319882f0f4aaf396b6d061a2275b">FileStream_GetSize</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pFileSize)</td></tr>
<tr class="separator:af505319882f0f4aaf396b6d061a2275b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0fbb4156c7eef2e3162841ffb0d74a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#abc0fbb4156c7eef2e3162841ffb0d74a">FileStream_SetSize</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> NewFileSize)</td></tr>
<tr class="separator:abc0fbb4156c7eef2e3162841ffb0d74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cda734fc220ab4b32e1f2bf9b5446fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a4cda734fc220ab4b32e1f2bf9b5446fc">FileStream_GetPos</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pByteOffset)</td></tr>
<tr class="separator:a4cda734fc220ab4b32e1f2bf9b5446fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea733800d58589cd80948dd23421dad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a4ea733800d58589cd80948dd23421dad">FileStream_GetTime</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *pFileTime)</td></tr>
<tr class="separator:a4ea733800d58589cd80948dd23421dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0eb2320c6401f6f1b5a92e53bc57dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a3b0eb2320c6401f6f1b5a92e53bc57dd">FileStream_GetFlags</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="_storm_port_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a> pdwStreamFlags)</td></tr>
<tr class="separator:a3b0eb2320c6401f6f1b5a92e53bc57dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf883cb4bc8ff873bb286e8f7bf5002"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#afcf883cb4bc8ff873bb286e8f7bf5002">FileStream_Replace</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream, <a class="el" href="struct_t_file_stream.html">TFileStream</a> *pNewStream)</td></tr>
<tr class="separator:afcf883cb4bc8ff873bb286e8f7bf5002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b75c4797726e9c5ee0b4b03bf31442"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#ae8b75c4797726e9c5ee0b4b03bf31442">FileStream_Close</a> (<a class="el" href="struct_t_file_stream.html">TFileStream</a> *pStream)</td></tr>
<tr class="separator:ae8b75c4797726e9c5ee0b4b03bf31442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4182f61165951a9334874d488e089844"><td class="memItemLeft" align="right" valign="top"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#a4182f61165951a9334874d488e089844">GetPlainFileName</a> (<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szFileName)</td></tr>
<tr class="separator:a4182f61165951a9334874d488e089844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac501502e4d0f6f5904f24190566c3beb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_file_stream_8cpp.html#ac501502e4d0f6f5904f24190566c3beb">CopyFileName</a> (char *szTarget, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *szSource, size_t cchLength)</td></tr>
<tr class="separator:ac501502e4d0f6f5904f24190566c3beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a6c6f05f604e9e3c9c3536365c5f81665"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __STORMLIB_SELF__</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab527650fea18542c0f5ad9097be0c352"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK4_BLOCK_SIZE&#160;&#160;&#160;0x4000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aec8b42b0300b7efd3a7bbefbacdaa5d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK4_HASH_SIZE&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f5c5bf181369788c2091bbc386990f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK4_MAX_BLOCKS&#160;&#160;&#160;0x00002000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af4003d23efcf71bac3817c9fb695d662"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLOCK4_MAX_FSIZE&#160;&#160;&#160;0x08040000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5fdc7facea201bfce4ad308105f88d0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVALID_HANDLE_VALUE&#160;&#160;&#160;((<a class="el" href="_storm_port_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac501502e4d0f6f5904f24190566c3beb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CopyFileName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>szTarget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>cchLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae8b75c4797726e9c5ee0b4b03bf31442"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileStream_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function closes an archive file and frees any data buffers that have been allocated for stream management. The function must also support partially allocated structure, i.e. one or more buffers can be NULL, if there was an allocation failure during the process</p>
<p><em>pStream</em> Pointer to an open stream </p>

</div>
</div>
<a class="anchor" id="a002962f324415b3de7002c50292ebae0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_t_file_stream.html">TFileStream</a>* FileStream_CreateFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_storm_port_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwStreamFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function creates a new file for read-write access</p>
<ul>
<li>If the current platform supports file sharing, the file must be created for read sharing (i.e. another application can open the file for read, but not for write)</li>
<li>If the file does not exist, the function must create new one</li>
<li>If the file exists, the function must rewrite it and set to zero size</li>
<li>The parameters of the function must be validate by the caller</li>
<li>The function must initialize all stream function pointers in <a class="el" href="struct_t_file_stream.html">TFileStream</a></li>
<li>If the function fails from any reason, it must close all handles and free all memory that has been allocated in the process of stream creation, including the <a class="el" href="struct_t_file_stream.html">TFileStream</a> structure itself</li>
</ul>
<p><em>szFileName</em> Name of the file to create </p>

</div>
</div>
<a class="anchor" id="a079730e5345bc1141a1057d4e13e95ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetBitmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvBitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>cbBitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&#160;</td>
          <td class="paramname"><em>pcbLengthNeeded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function gives the block map. The 'pvBitmap' pointer must point to a buffer of at least sizeof(STREAM_BLOCK_MAP) size. It can also have size of the complete block map (i.e. sizeof(STREAM_BLOCK_MAP) + BitmapSize). In that case, the function also copies the bit-based block map.</p>
<p><em>pStream</em> Pointer to an open stream <em>pvBitmap</em> Pointer to buffer where the block map will be stored <em>cbBitmap</em> Length of the buffer, of the block map <em>cbLengthNeeded</em> Length of the bitmap, in bytes </p>

</div>
</div>
<a class="anchor" id="a900badc0a3d7dff123d1c8a0b45c3c70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_storm_port_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a>* FileStream_GetFileName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the file name of the stream</p>
<p><em>pStream</em> Pointer to an open stream </p>

</div>
</div>
<a class="anchor" id="a3b0eb2320c6401f6f1b5a92e53bc57dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#a143be739596851314f3c386bd6f752f9">LPDWORD</a>&#160;</td>
          <td class="paramname"><em>pdwStreamFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the stream flags</p>
<p><em>pStream</em> Pointer to an open stream <em>pdwStreamFlags</em> Pointer where to store the stream flags </p>

</div>
</div>
<a class="anchor" id="a4cda734fc220ab4b32e1f2bf9b5446fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetPos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pByteOffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the current file position <em>pStream</em> <em>pByteOffset</em> </p>

</div>
</div>
<a class="anchor" id="af505319882f0f4aaf396b6d061a2275b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pFileSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the size of a file</p>
<p><em>pStream</em> Pointer to an open stream <em>FileSize</em> Pointer where to store the file size </p>

</div>
</div>
<a class="anchor" id="a4ea733800d58589cd80948dd23421dad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_GetTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pFileTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the last write time of a file</p>
<p><em>pStream</em> Pointer to an open stream <em>pFileType</em> Pointer where to store the file last write time </p>

</div>
</div>
<a class="anchor" id="a48fa8de054ca2c1a69995494237ee94b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_t_file_stream.html">TFileStream</a>* FileStream_OpenFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_storm_port_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwStreamFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function opens an existing file for read or read-write access</p><ul>
<li>If the current platform supports file sharing, the file must be open for read sharing (i.e. another application can open the file for read, but not for write)</li>
<li>If the file does not exist, the function must return NULL</li>
<li>If the file exists but cannot be open, then function must return NULL</li>
<li>The parameters of the function must be validate by the caller</li>
<li>The function must initialize all stream function pointers in <a class="el" href="struct_t_file_stream.html">TFileStream</a></li>
<li>If the function fails from any reason, it must close all handles and free all memory that has been allocated in the process of stream creation, including the <a class="el" href="struct_t_file_stream.html">TFileStream</a> structure itself</li>
</ul>
<p><em>szFileName</em> Name of the file to open <em>dwStreamFlags</em> specifies the provider and base storage type </p>

</div>
</div>
<a class="anchor" id="aa2107608d75af5dc5674f69c84637e22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FileStream_Prefix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="_storm_port_8h.html#a03bdb8ce5895c7e261aadc2529637546">TCHAR</a> *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> *&#160;</td>
          <td class="paramname"><em>pdwProvider</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the length of the provider prefix. Returns zero if no prefix</p>
<p><em>szFileName</em> Pointer to a stream name (file, mapped file, URL) <em>pdwStreamProvider</em> Pointer to a DWORD variable that receives stream provider (STREAM_PROVIDER_XXX) </p>

</div>
</div>
<a class="anchor" id="a593f3b1416f7497c28fa5552cd1b3003"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pByteOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwBytesToRead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads data from the stream</p>
<ul>
<li>Returns true if the read operation succeeded and all bytes have been read</li>
<li>Returns false if either read failed or not all bytes have been read</li>
<li>If the pByteOffset is NULL, the function must read the data from the current file position</li>
<li>The function can be called with dwBytesToRead = 0. In that case, pvBuffer is ignored and the function just adjusts file pointer.</li>
</ul>
<p><em>pStream</em> Pointer to an open stream <em>pByteOffset</em> Pointer to file byte offset. If NULL, it reads from the current position <em>pvBuffer</em> Pointer to data to be read <em>dwBytesToRead</em> Number of bytes to read from the file</p>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>If the function reads the required amount of bytes, it returns true.</li>
<li>If the function reads less than required bytes, it returns false and <a class="el" href="_file_stream_8cpp.html#a10b9a284527af83a44533867b0aff0fc">GetLastError()</a> returns ERROR_HANDLE_EOF</li>
<li>If the function fails, it reads false and <a class="el" href="_file_stream_8cpp.html#a10b9a284527af83a44533867b0aff0fc">GetLastError()</a> returns an error code different from ERROR_HANDLE_EOF </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="afcf883cb4bc8ff873bb286e8f7bf5002"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_Replace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pNewStream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Switches a stream with another. Used for final phase of archive compacting. Performs these steps:</p>
<p>1) Closes the handle to the existing MPQ 2) Renames the temporary MPQ to the original MPQ, overwrites existing one 3) Opens the MPQ stores the handle and stream position to the new stream structure</p>
<p><em>pStream</em> Pointer to an open stream <em>pNewStream</em> Temporary ("working") stream (created during archive compacting) </p>

</div>
</div>
<a class="anchor" id="ae33c8e38a5379adbbe49471f8d0ca5af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_SetCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_lib_8h.html#aa7d6a26f9fa999e583ee66390dfe04fe">SFILE_DOWNLOAD_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>pfnCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvUserData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a download callback. Whenever the stream needs to download one or more blocks from the server, the callback is called</p>
<p><em>pStream</em> Pointer to an open stream <em>pfnCallback</em> Pointer to callback function <em>pvUserData</em> Arbitrary user pointer passed to the download callback </p>

</div>
</div>
<a class="anchor" id="abc0fbb4156c7eef2e3162841ffb0d74a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_SetSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a>&#160;</td>
          <td class="paramname"><em>NewFileSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the size of a file</p>
<p><em>pStream</em> Pointer to an open stream <em>NewFileSize</em> File size to set </p>

</div>
</div>
<a class="anchor" id="a36307955e8de92f5ea26be07ea3b9cb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_storm_port_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> FileStream_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_file_stream.html">TFileStream</a> *&#160;</td>
          <td class="paramname"><em>pStream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#abb9abb9ce956f1a9e5a4081ac40e5649">ULONGLONG</a> *&#160;</td>
          <td class="paramname"><em>pByteOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> void *&#160;</td>
          <td class="paramname"><em>pvBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_storm_port_8h.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td>
          <td class="paramname"><em>dwBytesToWrite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function writes data to the stream</p>
<ul>
<li>Returns true if the write operation succeeded and all bytes have been written</li>
<li>Returns false if either write failed or not all bytes have been written</li>
<li>If the pByteOffset is NULL, the function must write the data to the current file position</li>
</ul>
<p><em>pStream</em> Pointer to an open stream <em>pByteOffset</em> Pointer to file byte offset. If NULL, it reads from the current position <em>pvBuffer</em> Pointer to data to be written <em>dwBytesToWrite</em> Number of bytes to write to the file </p>

</div>
</div>
<a class="anchor" id="a10b9a284527af83a44533867b0aff0fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetLastError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4182f61165951a9334874d488e089844"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * GetPlainFileName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>szFileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae12246cf2f9f9aa8e3a6367bd9fa2aed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetLastError </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nError</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
